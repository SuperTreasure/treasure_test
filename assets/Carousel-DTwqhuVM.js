import U from"./Spin-BgRRUGRX.js";import{e as ue,r as u,i as A,j as se,k as re,l as ve,o as f,c,a as S,F as E,g as P,b as X,w as x,n as w,m as q,p as G,q as fe,s as ce,_ as de}from"./app-D0JRNure.js";const g=typeof window<"u"?window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame:()=>{},J=typeof window<"u"?window.cancelAnimationFrame||window.mozCancelAnimationFrame:()=>{};function me(d,t=0,p=!1){const a=typeof window<"u"?window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame:()=>{};let m=null;function h(r){m||(m=r),r-m>=t?(d(),p&&(m=null,s.id=a(h))):s.id=a(h)}const s={id:a(h)};return s}function pe(d){const t=typeof window<"u"?window.cancelAnimationFrame||window.mozCancelAnimationFrame:()=>{};d&&d.id&&t(d.id)}const K=d=>(fe("data-v-42290dab"),d=d(),ce(),d),ge=["href","target"],he=["onLoad","src","alt"],we={key:0,class:"m-image"},ye=["href","target"],ke=["src","alt"],Ae=K(()=>S("path",{d:"M10.26 3.2a.75.75 0 0 1 .04 1.06L6.773 8l3.527 3.74a.75.75 0 1 1-1.1 1.02l-4-4.25a.75.75 0 0 1 0-1.02l4-4.25a.75.75 0 0 1 1.06-.04z"},null,-1)),Se=[Ae],Fe=K(()=>S("path",{d:"M5.74 3.2a.75.75 0 0 0-.04 1.06L9.227 8L5.7 11.74a.75.75 0 1 0 1.1 1.02l4-4.25a.75.75 0 0 0 0-1.02l-4-4.25a.75.75 0 0 0-1.06-.04z"},null,-1)),Ce=[Fe],$e={key:1,class:"m-switch"},Me=["onClick"],Le=ue({__name:"Carousel",props:{images:{default:()=>[]},interval:{default:3e3},width:{default:"100%"},height:{default:"100vh"},navigation:{type:Boolean,default:!0},navColor:{default:"#FFF"},navSize:{default:36},pagination:{type:Boolean,default:!0},pageActiveColor:{default:"#1677FF"},pageSize:{default:10},pageStyle:{default:()=>({})},disableOnInteraction:{type:Boolean,default:!0},pauseOnMouseEnter:{type:Boolean,default:!0}},setup(d){const t=d,p=u(!0),a=u(0),m=u(!1),h=u(),s=u(),r=u(),y=u(!1),M=u(),i=u(1),Q=A(()=>typeof t.width=="number"?t.width+"px":t.width),Y=A(()=>typeof t.height=="number"?t.height+"px":t.height),Z=A(()=>(t.images.length+1)*l.value),o=A(()=>t.images.length),k=u(Array(o.value).fill(!1)),L=u(),F=u(60),z=A(()=>F.value===60?12:12*(F.value/60));function B(e){k.value[e]=!0}se(()=>k.value[0],e=>{e&&C()});function ee(){var e=null;function v(n){e?(F.value=Math.floor(1e3/(n-e)),console.log("fps",F.value)):(L.value>10&&(e=n),L.value=g(v))}L.value=g(v)}const l=u(),_=u();function ae(){l.value=M.value.offsetWidth,_.value=M.value.offsetHeight}function I(e){e.preventDefault(),o.value>1&&((e.key==="ArrowLeft"||e.key==="ArrowUp")&&H(),(e.key==="ArrowRight"||e.key==="ArrowDown")&&N())}re(()=>{ee(),ae(),document.addEventListener("keydown",I)}),ve(()=>{document.removeEventListener("keydown",I)});function C(){o.value>1&&k.value[0]&&(p.value=!0,m.value=!1,O(),console.log("imageSlider start"))}function te(){pe(h.value),h.value=null,p.value?R():b(),console.log("imageSlider stop")}function R(){J(s.value),m.value=!0,a.value=Math.ceil(a.value/l.value)*l.value}function b(){J(s.value),m.value=!0,a.value=Math.floor(a.value/l.value)*l.value}function O(){h.value=me(()=>{const e=a.value%(o.value*l.value)+l.value;i.value=i.value%o.value+1,le(e)},t.interval)}function W(e){p.value?R():(b(),p.value=!0),m.value=!1,ne(e)}function j(e){p.value?(R(),p.value=!1):b(),m.value=!1,ie(e)}function H(){const e=(i.value+o.value-2)%o.value*l.value;i.value=i.value-1>0?i.value-1:o.value,j(e)}function N(){const e=i.value*l.value;i.value=i.value%o.value+1,W(e)}function V(){if(a.value>=r.value)O();else{var e=Math.ceil((r.value-a.value)/z.value);a.value+=e,s.value=g(V)}}function le(e){a.value===o.value*l.value&&(a.value=0),r.value=e,s.value=g(V)}function D(){if(a.value>=r.value)y.value&&(y.value=!1,!t.disableOnInteraction&&!t.pauseOnMouseEnter&&C());else{var e=Math.ceil((r.value-a.value)/z.value);a.value+=e,s.value=g(D)}}function ne(e){a.value===o.value*l.value&&(a.value=0),r.value=e,s.value=g(D)}function T(){if(a.value<=r.value)y.value&&(y.value=!1,!t.disableOnInteraction&&!t.pauseOnMouseEnter&&C());else{var e=Math.floor((r.value-a.value)/z.value);a.value+=e,s.value=g(T)}}function ie(e){a.value===0&&(a.value=o.value*l.value),r.value=e,s.value=g(T)}function oe(e){if(i.value!==e){y.value=!0;const v=(e-1)*l.value;e<i.value&&(i.value=e,j(v)),e>i.value&&(i.value=e,W(v))}}return(e,v)=>(f(),c("div",{class:"m-slider",ref_key:"carousel",ref:M,style:w(`--navColor: ${e.navColor}; --pageActiveColor: ${e.pageActiveColor}; width: ${Q.value}; height: ${Y.value};`),onMouseenter:v[1]||(v[1]=n=>e.pauseOnMouseEnter?te():()=>!1),onMouseleave:v[2]||(v[2]=n=>e.pauseOnMouseEnter?C():()=>!1)},[S("div",{class:G({transition:m.value}),style:w(`width: ${Z.value}px; height: 100%; will-change: transform; transform: translateX(${-a.value}px);`)},[(f(!0),c(E,null,P(e.images,(n,$)=>(f(),c("div",{class:"m-image",key:$},[X(U,{spinning:!k.value[$],indicator:"dynamic-circle"},{default:x(()=>[S("a",{href:n.link?n.link:"javascript:;",target:n.link?"_blank":"_self",class:"m-link"},[(f(),c("img",{onLoad:ze=>B($),src:n.src,key:n.src,alt:n.title,class:"u-img",style:w(`width: ${l.value}px; height: ${_.value}px;`)},null,44,he))],8,ge)]),_:2},1032,["spinning"])]))),128)),o.value?(f(),c("div",we,[X(U,{spinning:!k.value[0],indicator:"dynamic-circle"},{default:x(()=>[S("a",{href:e.images[0].link?e.images[0].link:"javascript:;",target:e.images[0].link?"_blank":"_self",class:"m-link"},[(f(),c("img",{onLoad:v[0]||(v[0]=n=>B(0)),src:e.images[0].src,key:e.images[0].src,alt:e.images[0].title,class:"u-img",style:w(`width: ${l.value}px; height: ${_.value}px;`)},null,44,ke))],8,ye)]),_:1},8,["spinning"])])):q("",!0)],6),e.navigation?(f(),c(E,{key:0},[(f(),c("svg",{class:"arrow-left",style:w(`width: ${e.navSize}px; height: ${e.navSize}px;`),onClick:H,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},Se,4)),(f(),c("svg",{class:"arrow-right",style:w(`width: ${e.navSize}px; height: ${e.navSize}px;`),onClick:N,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},Ce,4))],64)):q("",!0),e.pagination?(f(),c("div",$e,[(f(!0),c(E,null,P(o.value,n=>(f(),c("div",{onClick:$=>oe(n),class:G(["u-circle",{active:i.value===n}]),style:w([{width:`${e.pageSize}px`,height:`${e.pageSize}px`},e.pageStyle]),key:n},null,14,Me))),128))])):q("",!0)],36))}}),be=de(Le,[["__scopeId","data-v-42290dab"],["__file","Carousel.vue"]]);export{be as default};
